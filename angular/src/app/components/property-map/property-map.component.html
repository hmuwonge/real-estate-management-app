<div class="map-container">
  @if (apiLoaded) {
    <google-map 
      [center]="center"
      [zoom]="zoom"
      width="100%"
      height="500px"
    >
      @if (userPosition) {
        <map-marker 
          [position]="userPosition"
          [options]="{icon: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png'}"
        ></map-marker>
      }
      
      @for (position of markerPositions; track position) {
        <map-marker 
          [position]="position"
          [options]="{icon: 'https://maps.google.com/mapfiles/ms/icons/red-dot.png'}"
        ></map-marker>
      }
    </google-map>
  } @else {
    <div class="map-loading">Loading map...</div>
  }
</div>