<!-- custom-carousel.component.html -->
<div
  class="relative overflow-hidden"
  (mouseenter)="stopAutoRotation()"
  (mouseleave)="startAutoRotation()"
  (touchstart)="onTouchStart($event)"
  (touchend)="onTouchEnd($event)"
>
  <!-- Navigation Buttons -->
  <button
    class="absolute top-1/2 left-4 z-10 -translate-y-1/2 bg-white/70 text-gray-800 rounded-full w-10 h-10 flex items-center justify-center shadow-md hover:bg-white/90 transition-all"
    (click)="prev()"
  >
   <ng-icon name="heroArrowLeft" size="16px" color="black" />
  </button>

  <button
    class="absolute top-1/2 right-4 cursor-pointer z-10 -translate-y-1/2 bg-white/70 text-gray-800 rounded-full w-10 h-10 flex items-center justify-center shadow-md hover:bg-white/90 transition-all"
    (click)="next()"
  >
     <ng-icon name="heroArrowRight" size="16px" color="black" />
  </button>

  <!-- Carousel Track -->
  <div class="relative h-80 overflow-hidden">
    <div
      class="flex h-full transition-transform duration-500 ease-in-out gap-6"
      [style.transform]="'translateX(-' + currentIndex * (100 / visibleItems) + '%)'"
    >
      <!-- <div *ngFor="let item of items"
           class="flex-shrink-0 w-full "
           [ngClass]="{
             'md:w-1/2': visibleItems >= 2,
             'lg:w-1/3': visibleItems >= 3,
             'xl:w-1/4': visibleItems >= 3
           }">
        <div class="relative h-full">
          <img [src]="item.mainImage" [alt]="item.governorate" class="w-full h-full object-cover rounded">
          <div class="absolute bottom-0 left-2 right-2 bg-black/50 text-white p-3 text-center rounded-b">
            <h3 class="text-lg font-medium truncate">{{item.governorate}}</h3>
          </div>
        </div>
      </div> -->

      <!-- property-card.component.html -->
      <div
        *ngFor="let property of items"
        class="flex-shrink-0 w-full mb-6 gap-4 shadow rounded-lg
        transition-transform duration-500 ease-in-out"
        [ngClass]="{
          'md:w-1/2': visibleItems >= 2,
          'lg:w-1/3': visibleItems >= 3,
          'xl:w-1/4': visibleItems >= 4
        }"
      >
        <div
          class="bg-transparent relative rounded-lg overflow-hidden shadow-md hover:shadow-lg
          transition-shadow duration-300 h-full flex-col"
        >
          <!-- Property Image with Badge -->
          <div class="relative flex-grow-0">
            <span
              class="absolute top-3 left-3 text-white py-1 rounded text-2xl
              font-medium shadow-sm"
              [ngClass]="{
                'bg-green-100 text-green-800': property.governorateName === 'Sale',
                'bg-blue-100 text-blue-800': property.governorateName === 'Rent'
              }"
            >
              {{ property.governorateName || 'London' }}
            </span>
            <img
              [src]="property.mainImage || defaultImage"
              [alt]="property.governorateName || property.governorateName"

              class="w-full h-full object-cover"
            />
          </div>

          <div class="flex absolute justify-between items-center bottom-0 p-4">
            <button
              class="bottom-2 py-1 md:px-4 md:py-2 bg-white/70 text-gray-800 rounded-md
               hover:bg-gray-300 text-sm transition-colors cursor-pointor"
              (click)="viewProperty(property)"
            >
              <div class="flex items-center cursor-pointer space-x-2 px-2">
                View Home

                <ng-icon name="arrowRightIcon" size="16px" color="white" />
              </div>
            </button>
          </div>


        </div>
      </div>
    </div>
  </div>

  <!-- Indicators -->
  <!-- <div class="flex justify-center space-x-2 py-4">
    <span
      *ngFor="let indicator of getIndicatorArray(); let i = index"
      class="inline-block w-3 h-3 rounded-full cursor-pointer transition-colors"
      [ngClass]="{
        'bg-gray-800': isIndicatorActive(i),
        'bg-gray-300': !isIndicatorActive(i)
      }"
      (click)="goTo(i * visibleItems)"
    ></span>
  </div> -->
</div>
